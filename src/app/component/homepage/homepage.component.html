<header>
  <p-menubar [model]="items">
    <!-- <input type="text" pInputText placeholder="Search"> -->
    <button pButton label="Tìm kiếm" icon="fa-search" (click)="searchSidebarDisplay = true"></button>
  </p-menubar>
</header>
<div id="search-sidebar">
  <p-sidebar [(visible)]="searchSidebarDisplay" styleClass="ui-sidebar-sm" position="right" [baseZIndex]="10000">
    <app-search-sidebar (searched)="onSearched($event); searchSidebarDisplay = false; resultSidebarDisplay = true"></app-search-sidebar>
  </p-sidebar>
</div>
<div id="result-sidebar">
  <p-sidebar [(visible)]="resultSidebarDisplay" position="bottom" [baseZIndex]="10000" (onHide)="onSearchResultSidebarHide($event)">
    <div style="overflow: auto; height: 100%;">
      <p-dataTable [value]="searchResults" selectionMode="single" (onRowSelect)="onResultSelected($event)" [rows]="5" [paginator]="true">
        <p-column field="id" header="ID"></p-column>
        <p-column field="name" header="Tên"></p-column>
        <p-column field="type" header="Loại"></p-column>
        <p-column field="label" header="Ký hiệu"></p-column>
        <p-column field="commune" header="Xã"></p-column>
        <p-column field="district" header="Huyện"></p-column>
      </p-dataTable>
    </div>
  </p-sidebar>
</div>

<section id="content">
  <div class="ui-g ui-md">
    <div class="ui-g-12 ui-md-9">
      <app-leaflet-map [data]="data" [markedPoints]='searchResults' [bindingPoints]="[selectedHeritage]" (markerClicked)="onMarkerClicked($event)"></app-leaflet-map>
    </div>
    <div class="ui-g-12 ui-md-3">
      <p-panel header="Đặc điểm di sản" [style]="{'margin-bottom':'20px'}">
        <div *ngIf="selectedHeritage">
          <b>Tên: </b>{{selectedHeritage?.name}}
          <br>
          <b>Kiểu: </b>{{selectedHeritage?.type}}
          <br>
          <b>Ký hiệu: </b>{{selectedHeritage?.label}}
          <br>
          <b>Huyện: </b>{{selectedHeritage?.district}}
          <br>
          <b>Xã: </b>{{selectedHeritage?.commune}}
          <br>
          <!-- <b>File đính kèm: </b>
          <a href="{{selectedHeritage?.attachedFile}}">Link</a>
          <br> -->
        </div>
        <div *ngIf="selectedHeritage" style="margin-top: 1em" >
          <button pButton label="Reset" icon="fa-undo" (click)="selectedHeritage=undefined"></button>
          <button pButton label="Xem thêm" icon="fa-info" (click)="onSeeMore()"></button>
        </div>
      </p-panel>
    </div>
  </div>
</section>
<footer>
</footer>